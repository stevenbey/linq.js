Object.prototype.clone=function(){'use strict';var o=this.constructor(),k;for(k in this){if(this.hasOwnProperty(k)){o[k]=this[k];}}return o;};function ArgumentNullOrUndefinedException(n){'use strict';this.name=n;this.message='Cannot be null or undefined';}function ArgumentException(n,m){'use strict';this.name=n;this.message=m;}(function(a,e){'use strict';a.each=function(s){e.isFunction(s,'selector');var i;for(i=0;i<this.length;i++){s(this[i],i);}};a.aggregate=function(f,d,s){e.isFunction(f,'func');var a=[].concat(this),r;if(!d){r=a.splice(0,1)[0];if(typeof r==='object'){r=r.clone();}}else{e.is(typeof d!=='function','seed','Cannot be a function');r=d;}e.isFunction(s,'selector',true);a.each(function(o){r=f(r,o);});return s?s(r):r;};a.all=function(p){e.isFunction(p,'predicate');return this.where(p).length===this.length;};a.any=function(p){e.isFunction(p,'predicate');return this.where(p).length!==0;};a.average=function(s){return this.length===0?0:this.sum(s)/this.length;};a.contains=function(o){e.notNullOrUndefined(o,'obj');return this.indexOf(o)!==-1;};a.count=function(){return this.length;};a.distinct=function(s){e.isFunction(s,'selector',true);var a=[],l=[];this.each(function(o){var v=s?s(o):o;if(!l.contains(v)){l.push(v);a.push(o);}});return a;};a.first=function(p){e.isFunction(p,'predicate',true);return(p?this.where(p):this)[0];};a.groupBy=function(k,l,r){e.isFunction(k,'key');e.isFunction(l,'element',true);e.isFunction(r,'result',true);var a=[],b={};this.each(function(o){var k=k(o),i=b[k];if(!i){a.push(b[k]=i=[])}i.key=k;i.push(l?l(o):o);});if(r){a.each(function(o,i){a[i]=r(o.key,o);});}return a;};a.last=function(p){e.isFunction(p,'predicate',true);var a=p?this.where(p):this;return a[a.length-1];};a.max=function(s){e.isFunction(s,'selector',true);var max=Number.MIN_VALUE;(s?this.select(s):this).each(function(v){if(typeof v!=='number'){throw'The array item is not a number';}if(v>max){max=v;}});return max;};a.min=function(s){e.isFunction(s,'selector',true);var min=Number.MAX_VALUE;(s?this.select(s):this).each(function(v){if(typeof v!=='number'){throw'The array item is not a number';}if(v<min){min=v;}});return min;};a.orderBy=function(s){e.isFunction(s,'selector');var a=[].concat(this),i,v;a.sort(function(a,b){a=s(a);b=s(b);if(typeof a==='string'){for(i=0;i<a.length;i++){v=a.charCodeAt(i)-b.charCodeAt(i);if(v===0){continue;}return v;}}return Number(a)-Number(b);});return a;};a.orderByDescending=function(s){e.isFunction(s,'selector');return this.orderBy(s).reverse();};a.select=function(s){e.isFunction(s,'selector');var a=[];this.each(function(o,i){a.push(s(o,i));});return a;};a.selectMany=function(c,r){e.isFunction(c,'collection');e.isFunction(r,'result',true);var a=[];this.select(c).each(function(o){if(o instanceof Array){o.each(function(v){a.push(r?r(v):v);});}else{throw'The selected property must be an array';}});return a;};a.skip=function(c){e.notNullOrUndefined(c,'count');e.is(typeof c==='number','count','Must be a number');return this.slice(c);};a.skipWhile=function(p){e.isFunction(p,'predicate');var a=[],skip=true,i;for(i=0;i<this.length;i++){if(skip&&p(this[i],i)){continue;}a.push(this[i]);skip=false;}return a;};a.sum=function(s){e.isFunction(s,'selector',true);var sum=0;(s?this.select(s):this).each(function(v){if(typeof v!=='number'){throw'The array item is not a number';}sum+=v;});return sum;};a.take=function(c){e.notNullOrUndefined(c,'count');e.is(typeof c==='number','count','Must be a number');return this.slice(0,c);};a.takeWhile=function(p){e.isFunction(p,'predicate');var a=[],i;for(i=0;i<this.length;i++){if(!p(this[i],i)){break;}a.push(this[i]);}return a;};a.where=function(p){e.isFunction(p,'predicate');var a=[];this.each(function(o,i){if(p(o,i)){a.push(o);}});return a;};}(Array.prototype,{is:function(v,n,m){'use strict';if(!v){throw new ArgumentException(n,m);}},notNullOrUndefined:function(obj,n){'use strict';if(obj===null||obj===undefined){throw new ArgumentNullOrUndefinedException(n);}},isFunction:function(obj,n,nullable){'use strict';if(nullable){if(obj===null||obj===undefined){return;}}else{this.notNullOrUndefined(obj,n);}this.is(typeof obj==='function',n,'Must be a function');}}));